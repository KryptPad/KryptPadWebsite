<script id="profiles-template" type="text/html">

    <div class="content-section">

        <p>
            Select your profile from the list below
        </p>

        <div class="alert alert-warning">
            <p>
                Currently, you cannot edit profiles from here. You must install the Windows 10 app from the App Store.
                The ability to edit your profiles from the website will be added soon. Sorry for the inconvenience.
            </p>
        </div>
        
        <message-widget params="message: message"></message-widget>

        <!--Profiles view-->
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Profile</th>
                    <!--<th></th>-->
                </tr>
            </thead>

            <tbody data-bind="foreach: profiles">

                <tr role="button" data-bind="click: $parent.providePassphrase" data-toggle="modal" data-target="#passphrase-modal">

                    <td data-bind="text: Name"></td>

                </tr>

            </tbody>

        </table>

        @*<p>Enter the passphrase</p>
            <div>
                <input data-bind="textInput: passphrase" />
            </div>*@

        <!-- ko if: profiles().length === 0 -->
        <span>You don't have any profiles created. Download the Krypt Pad Windows 10 app from the appstore to add profiles.</span>
        <!-- /ko -->
        @*Spinner*@
        @{ Html.RenderPartial("_Spinner");}

        @*Dialog for profile passphrase*@
        <div id="passphrase-modal" class="modal fade" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">Enter passphrase</h4>
                    </div>
                    <div class="modal-body">

                        <message-widget params="message: profileMessage"></message-widget>

                        <input type="password" class="form-control" data-bind="textInput: passphrase, hasFocus: passphraseHasFocus" 
                               autofocus/>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary" data-bind="click: enterProfile">Go</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->

    </div>

</script>

