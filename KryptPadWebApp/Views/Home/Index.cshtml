@model KryptPadWebApp.Models.HomeIndexViewModel
@{
    ViewBag.Title = "Home Page";
}

@section pageHeader{
    <div class="hero hero-main hero-blue">
        <div class="container text-center">
            
            <h1>Krypt Pad</h1>
            <p class="lead">Secure credential manager</p>

            @*Account interactions*@
            <div>
                <p>
                    <a href="@Url.RouteUrl("App")" title="Sign in" class="btn btn-info">Sign in</a>
                    <button class="btn btn-default">Sign up for a free account</button>
                </p>
            </div>

            @*Download supported clients*@
            <p>
                Download the Krypt Pad client for your device
            </p>
            <p>
                <i class="fa fa-windows fa-2x" aria-hidden="true"></i>
            </p>
            @*<a href="@Url.RouteUrl("Download")" title="Download Now"></a>*@
        </div>

    </div>
}

<div class="text-center">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- KP_RESP_1 -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-3983402242017131"
         data-ad-slot="8554978894"
         data-ad-format="auto"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

@*Main content*@
<div class="hero hero-transparent ">
    <div class="container text-center">
        <p class="h1">How it works</p>
        <p class="lead">
            Keeping track of all your passwords, credit cards, and other personal information can be difficult, or even impossible
            (unless you have a photographic memory). But for the rest of us, Krypt Pad can store sensitive information and keep it
            safe for you. Your data is encrypted and synced across all your compatible devices.
        </p>
        <p class="lead">
            
        </p>
    </div>

</div>

@*Safe & secure*@
<div id="secure" class="hero hero-light-blue">
    <div class="container">

        <div class="row">
            <div class="col-md-5">
                <p class="h1">Safe &amp; Secure</p>
                <p class="lead">
                    Security is important, especially when you are storing credentials, credit card numbers, bank information, and other
                    sesitive data. Everything is protected using AES 256bit encryption.
                </p>
            </div>

            <div class="col-md-5 visible-md-block visible-lg-block">
                <img src="~/Content/Images/safe.png" />
            </div>
        </div>

    </div>
</div>

<div class="text-center">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- KP_RESP_2 -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-3983402242017131"
         data-ad-slot="6799044097"
         data-ad-format="auto"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

@*Donations*@
<div id="donate" class="hero hero-light-red">
    <div class="container">

        <div class="row">
            <div class="col-md-5">
                <p class="h1">Donation Supported</p>
                <p class="lead">
                    Krypt Pad is supported by donations. Your contributions help support future development.
                    You are free to donate as much as you'd like; there's no preset amount.
                </p>
                <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                    <input type="hidden" name="cmd" value="_s-xclick">
                    <input type="hidden" name="hosted_button_id" value="XFMJUYPB6U5R6">
                    <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                    <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                </form>
            </div>

            <div class="col-md-5 visible-md-block visible-lg-block">
                <img src="~/Content/Images/favorite2.png" />
            </div>
        </div>

    </div>
</div>








<div class="text-center">

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- KP_RESP_3 -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-3983402242017131"
         data-ad-slot="4431573696"
         data-ad-format="auto"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

</div>


@section scripts{
    @*
        <script>
            (function () {

                function LoginViewModel() {
                    var self = this;

                    self.username = ko.observable('ebutler@test.com');
                    self.password = ko.observable();
                    self.isAuthenticated = ko.observable(app.isAuthenticated());
                    self.isBusy = ko.observable(false);
                    self.errorMessage = ko.observable();

                    self.login = function () {

                        // Set busy state
                        self.isBusy(true);

                        var loginData = {
                            grant_type: 'password',
                            username: self.username(),
                            password: self.password()
                        };

                        $.ajax({
                            type: 'POST',
                            url: '/token',
                            data: loginData
                        }).done(function (data) {
                            // Cache the access token in session storage.
                            app.setToken(data);

                            // Go to the main account page. We submit the form so that
                            // browsers will offer to save password, but we don't do anything
                            // with the values on the server side
                            $('#login-form').submit();

                        }).fail(function (error) {

                            // Set busy state
                            self.isBusy(false);

                            app.processError(error, function (message) {
                                // Show the error somewhere
                                self.errorMessage(message);
                            });

                        }).complete(function () {
                            // Leave busy state for login success
                        });
                    }
                }

                ko.applyBindings(new LoginViewModel(), $('#login-section')[0]);

                //$('.same-height').each(function (index, element) {
                //    var max = 0;

                //    // Make each element in the same-height class
                //    $(element).find('.card').each(function (x, elem) {
                //        var $div = $(elem);
                //        if ($div.height() > max) {
                //            max = $div.height();
                //        }
                //    });

                //    // Use the max value to apply the height
                //    $(element).find('.card').height(max + 'px');

                //});




            })();

        </script>
    *@
}
